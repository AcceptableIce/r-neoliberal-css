$flair-colors: ( 
    red: #c22, 
    orange: #F46036,
    yellow: #FFBA49,
    green: #84A98C,
    lime: lime, 
    babyblue: #78c8ee, 
    blue: #0348ae,
    indigo: indigo,
    purple: #8075e5, 
    brown: brown,
    grey: #5f5f5f,
    pink: #e286a9, 
    black: #000,
    plain: transparent
);

$image-flairs: (
    economist: (
        acemoglu,
        autor,
        fama,
        friedman,
        george,
        goolsbee,
        hayek,
        heckman,
        keynes,
        krugman,
        mankiw,
        sen,
        sumner,
        lucas,
        chetty,
        cochrane,
        ricardo,
        mccloskey,
        ostrom,
        rajan,
        samuelson 
    ),
    centralbanker: (
        bernanke,
        carney,
        yellen,
        volcker,
        greenspan,
        powell,
        xiaochuan,
        draghi,
    ),
    philosopher: (
        kant,
        mill,
        locke,
        montesquieu,
        smith,
        wollstonecraft,
        foucault,
        nussbaum
    ),
    polsci: (
        nye
    ),
    influential: (
        soros,
        llosa,
        anthony
    ),
    symbol: (
        eu,
        nato,
        wto,
        commonwealth,
        un,
        globe
        au,
        worldbank,
        imf,
    )
);

.tagline {
    .flair {
        display: inline-flex;
        align-items: center;
        border-radius: 0;
        visibility: hidden;
        white-space: nowrap;
        width: 0;
        padding: 0;
        border: 0;
    }
    .flair-image {
        margin: 0 0 0 $flair-image-width;
        &:before {
            width: $flair-image-width;
            height: $flair-image-height;
            position: absolute;
            content: "";
            margin-left: -#{$flair-image-width};
            visibility: visible
        }
    }
    .flair-text {
        height: $flair-text-height;
        width: auto;
        font-size: 10px;
        font-weight: 600;
        @include box-sizing(border-box);
        visibility: visible;
        padding: 0 $flair-text-padding;
        margin: 0 $flair-text-spacing;
        color: #fff;
    }
    .flair-text.flair-image {
        $flair-spacing: calc(#{$flair-image-width} + #{$flair-text-padding});
        margin-left: $flair-spacing;
        &:before {
            margin-left: calc(-1 * #{$flair-spacing})
        }
    }
}

@each $name, $category in $image-flairs {
    $length: length($category) * $flairsheet-flair-height;
    .flair-#{$name}:before,
    a[href$="#{$name}-img"] {
        background: url(image-reference("#{$name}-flair")) no-repeat;
        background-size: $flair-image-width #{$flair-image-scale-factor * $length};
    }

    @each $image in $category {
        $offset: -$flairsheet-flair-height * (index($category, $image) - 1);
        .flair-#{$image}:before,
        a[href="#{$image}-#{$name}-img"] {
            background-position: 0 #{$flair-image-scale-factor * $offset};
        }
    }
}

a[href$="-img"] {
    display: block;
    min-width: $flair-image-width;
    height: $flair-image-height;
    text-indent: 38px;
    padding-top: 12px;
    border: 0
}

@each $key, $color in $flair-colors {
    .tagline .flair-#{$key},
    .flairselector .linkflair-#{"" + $key},
    .linkflair-#{$key} .title .linkflairlabel {
        background-color: $color;
    }
    .tagline .flair-#{$key}-border {
        border: 2px solid $color
    }
}

a.author.moderator~.flair-mod {
    background-color: #c22;
    border-color: #c22;
}